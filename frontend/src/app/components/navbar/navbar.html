<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo/Brand -->
    <a [routerLink]="getHomeRoute()" class="navbar-brand">
      <span class="logo-icon">ğŸ </span>
      <h1>House Hunting</h1>
    </a>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" *ngIf="isLoggedIn">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <!-- Navigation Links -->
    <ul class="navbar-menu" [class.mobile-open]="isMobileMenuOpen">
      
      <!-- Tenant Links -->
      <ng-container *ngIf="isLoggedIn && userRole === 'tenant'">
        <li>
          <a routerLink="/tenant/dashboard" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ </span>
            <span class="nav-text">Dashboard</span>
          </a>
        </li>
        <li>
          <a routerLink="/properties" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ”</span>
            <span class="nav-text">Browse Properties</span>
          </a>
        </li>
        
        <li>
          <a routerLink="/tenant/favourites" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">â¤ï¸</span>
            <span class="nav-text">Saved</span>
            <!-- <span class="badge" *ngIf="favouritesCount > 0">{{ favouritesCount }}</span> -->
          </a>
        </li>
        <li>
          <a routerLink="/tenant/bookings" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ“…</span>
            <span class="nav-text">My Bookings</span>
          </a>
        </li>
        <li>
          <a routerLink="/tenant/payments/history" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ’³</span>
            <span class="nav-text">Payments</span>
          </a>
        </li>
      </ng-container>
     
      <!-- Landlord Links -->
      <ng-container *ngIf="isLoggedIn && userRole === 'landlord'">
        <li>
          <a routerLink="/landlord/properties" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ¢</span>
            <span class="nav-text">My Properties</span>
          </a>
        </li>
        <li>
          <a routerLink="/landlord/properties/add" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">â•</span>
            <span class="nav-text">Add Property</span>
          </a>
        </li>
        <li>
          <a routerLink="/landlord/bookings" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ“‹</span>
            <span class="nav-text">Bookings</span>
          </a>
        </li>
        <li>
          <a routerLink="/landlord/subscription" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ’¼</span>
            <span class="nav-text">Subscription Plan</span>
          </a>
        </li>
        <li>
          <a routerLink="/landlord/reviews" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">â­</span>
            <span class="nav-text">My Reviews</span>
          </a>
      </ng-container>
      
      <!-- Admin Links -->
      <ng-container *ngIf="isLoggedIn && userRole === 'admin'">
        <li>
          <a routerLink="/admin/dashboard" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">âš™ï¸</span>
            <span class="nav-text">Admin Dashboard</span>
          </a>
        </li>
      </ng-container>
      <ng-container *ngIf="isLoggedIn && userRole === 'admin'">
        <li>
          <a routerLink="/admin/analytics" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ“Š</span>
            <span class="nav-text">Analytics</span>
          </a>
        </li>
       </ng-container>
      <ng-container *ngIf="isLoggedIn && userRole === 'admin'">
        <li>
          <a routerLink="/admin/financial" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ’µ</span>
            <span class="nav-text">Financials</span>
          </a>
        </li>
      </ng-container>
      <ng-container *ngIf="isLoggedIn && userRole === 'admin'">
        <li>
          <a routerLink="/admin/notifications" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ğŸ””</span>
            <span class="nav-text">Notifications</span>
          </a>
        </li>
      </ng-container>

      <!-- Notification Bell - Shows for landlord and tenant -->
      <li *ngIf="isLoggedIn && (userRole === 'landlord' || userRole === 'tenant')" class="notification-item">
        <app-notification-bell></app-notification-bell>
      </li>

      <!-- User Profile Section -->
      <li *ngIf="isLoggedIn" class="user-profile-dropdown">
        <button class="user-profile-btn" (click)="toggleUserMenu()">
          <span class="user-avatar">{{ getUserInitials() }}</span>
          <span class="user-info">
            <span class="user-email-display">{{ userEmail }}</span>
            <span class="user-role-badge">{{ userRole }}</span>
          </span>
          <span class="dropdown-arrow">â–¼</span>
        </button>
        
        <!-- Dropdown Menu -->
        <div class="user-dropdown-menu" [class.show]="isUserMenuOpen">
          <a routerLink="/{{ userRole }}/notifications" class="dropdown-item" (click)="closeUserMenu()">
            <span class="dropdown-icon">ğŸ””</span>
            Notifications
          </a>
          <a routerLink="/profile" class="dropdown-item" (click)="closeUserMenu()">
            <span class="dropdown-icon">ğŸ‘¤</span>
            Profile Settings
          </a>
          <div class="dropdown-divider"></div>
          <button (click)="logout()" class="dropdown-item logout-item">
            <span class="dropdown-icon">ğŸšª</span>
            Logout
          </button>
        </div>
      </li>

      <!-- Auth Links (Not Logged In) -->
      <ng-container *ngIf="!isLoggedIn">
        <li>
          <a routerLink="/login" routerLinkActive="active" class="auth-link login-link">
            Login
          </a>
        </li>
        <li>
          <a routerLink="/register" routerLinkActive="active" class="auth-link register-link">
            Register
          </a>
        </li>
      </ng-container>
    </ul>
  </div>
</nav>